Html5Qrcode.getCameras().then(cameras => {
  console.log("Cámaras disponibles:", cameras);
  if (cameras && cameras.length) {
    // usar la primera cámara
    const cameraId = cameras[0].id;
    const qr = new Html5Qrcode("reader");
    qr.start(
      { deviceId: { exact: cameraId } },
      { fps: 10, qrbox: 250 },
      decoded => {
        document.getElementById("status").innerText = "Detectado: " + decoded;
      }
    ).catch(err => {
      document.getElementById("status").innerText = "Error al iniciar con cámara específica: " + err;
      console.error(err);
    });
  } else {
    document.getElementById("status").innerText = "No se detectaron cámaras";
  }
}).catch(err => {
  document.getElementById("status").innerText = "Error al obtener cámaras: " + err;
  console.error(err);
});
